@using CORE_BOL
@*@model G2CServiceSearchModel*@
@model List<CORE_BOL.G2CApplicantModel>

@{
    ViewData["Title"] = "G2CServices";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1 class="m-0 text-dark"></h1>
            </div>
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a asp-action="Index">Dashboard</a></li>
                    <li class="breadcrumb-item active">G2CServices</li>
                </ol>
            </div>
        </div>
    </div>
</div>


<div class="card card-info">
    @if (TempData["msg"] != null)
    {
        <div class="alert alert-danger alert-dismissible">
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
            <h5><i class="icon fas fa-ban"></i> Alert!</h5>
            <p>@TempData["msg"]</p>
        </div>
    }
    <div class="card-header">
        <h3 class="card-title">Fetch Details From G2CService</h3>
    </div>
    <div class="card-body">
        <!--<div class="form-group row">
            <label class="col-sm-2 col-form-label">TransactionTypeId</label><span style="font-weight: bold; color: red;">*</span>
            <div class="col-sm-5">
                <select id="TransactionTypeId" class="form-control select2" style="width: 100%;"
                        asp-items="(new SelectList (ViewBag.TransactionType,"Value","Text")) " value="0"></select>-->
                @*<span asp-validation-for="TransactionTypeId" class="text-danger"></span>*@
            <!--</div>
        </div>-->
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Application No</label><span style="font-weight: bold; color: red;">*</span>
            <div class="col-sm-5">
                <input id="ApplicationNo" class="form-control" placeholder="Application No" />
                @*<span asp-validation-for="ApplicationNo" class="text-danger"></span>*@
            </div>
            @*</div>
                <div class="form-group row">*@
            <label class="col-sm-1 col-form-label"></label>
            <div class="col-sm-3">
                <button id="btnSearch" type="button" class="btn btn-primary">Search</button>
            </div>

        </div>
    </div>
</div>
<div id="dvApplicant" style="display:block;"></div>
<script src="~/plugins/jquery/jquery.min.js"></script>
<script>
      @*$.ajax({
                type: "GET",
          url: '@Url.Action("G2CApplicantDetail", "Dashboards")',
            data: {
                //transactionId: parseInt($('#Transactioninput').val())
                },
                success: function (data) {

                    console.log(data);
                    //return false;
                    $('#tranferrorDetail').empty();
                    $('#tranfereeDetail').empty();

                    //Changed from == 0 to >0
                    if (data.length > 0) {
                        $('#img').hide();
                        $('#FPT_details').show(1000);

                    }
                    else {
                        $('#img').hide();
                        //location.reload();
                        alert("No records found.!")
                        $('#FPT_details').hide(1000);
                        $('#tranferrorDetail').append(
                            '<tr><td colspan="3" style="color: red;">No record found!</td></tr>');
                    }

                },
                    error: function () {
                        $('#img').hide();
                        $('#FPT_details').hide(1000);
                    alert('Error occured');
                    }
        });*@
    $(document).delegate('#btnSearch', 'click', function () {
        $dataholder = $("#dvApplicant");
        var url = "G2CApplicantDetail?applicationNo=" + encodeURIComponent($("#ApplicationNo").val());
        //alert(url);
        if ($dataholder && url) {

            $('#img').show();
            //var objParm = {
                //Service_Id: 501//$("#objOutRespDestinationTypeId").val(),
                ////CorrespondanceNo: $('#objOutRespCorrespondanceNo').val()

            //};
            //location.href = url;
            $dataholder.load(url, function () {
               
                //  { obj: objParm },
                $('#dvApplicant').show();
                $('#img').hide();
                $('html,body').animate(
                    {
                        scrollTop: $("#dvApplicant").offset().top
                    }, 'slow');
            
            });
        }
    });
</script>