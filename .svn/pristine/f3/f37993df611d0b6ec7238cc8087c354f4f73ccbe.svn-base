#pragma checksum "D:\APPS\TT\ARMS\ARMS\Areas\Water\Views\WaterMeterReadings\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "dcfb0a16cad98493ce0afeca2feb8bc7e10b3a06"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Areas_Water_Views_WaterMeterReadings_Index), @"mvc.1.0.view", @"/Areas/Water/Views/WaterMeterReadings/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\APPS\TT\ARMS\ARMS\Areas\_ViewImports.cshtml"
using ARMS;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\APPS\TT\ARMS\ARMS\Areas\_ViewImports.cshtml"
using ARMS.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"dcfb0a16cad98493ce0afeca2feb8bc7e10b3a06", @"/Areas/Water/Views/WaterMeterReadings/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"9b4a8197006c533ca3077e7e53fa27a725fee456", @"/Areas/_ViewImports.cshtml")]
    public class Areas_Water_Views_WaterMeterReadings_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<List<CORE_BOL.WaterMeterReadingModel>>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("zoneid"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("class", new global::Microsoft.AspNetCore.Html.HtmlString("form-control col-sm-8 select2bs4"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("value", new global::Microsoft.AspNetCore.Html.HtmlString("0"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("class", new global::Microsoft.AspNetCore.Html.HtmlString("form-horizontal"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("method", "get", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_5 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("ZoneId"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_6 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("class", new global::Microsoft.AspNetCore.Html.HtmlString("form-control col-sm-6 select2bs4"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_7 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/plugins/jquery/jquery.min.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.SelectTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 2 "D:\APPS\TT\ARMS\ARMS\Areas\Water\Views\WaterMeterReadings\Index.cshtml"
  
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
<div class=""content-header"">
    <div class=""container-fluid"">
        <div class=""row mb-2"">
            <div class=""col-sm-6"">
                <h1 class=""m-0 text-dark""></h1>
            </div>
            <div class=""col-sm-6"">
                <ol class=""breadcrumb float-sm-right"">
                    <li class=""breadcrumb-item""><a href=""Index"">Water Meter Reading</a></li>
                    <li class=""breadcrumb-item active"">Water Transaction</li>
                </ol>
            </div>
        </div>
    </div>
</div>

");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "dcfb0a16cad98493ce0afeca2feb8bc7e10b3a067141", async() => {
                WriteLiteral("\r\n    <div class=\"card card-info\">\r\n");
#nullable restore
#line 25 "D:\APPS\TT\ARMS\ARMS\Areas\Water\Views\WaterMeterReadings\Index.cshtml"
         if (TempData["msg"] != null)
        {

#line default
#line hidden
#nullable disable
                WriteLiteral(@"            <div class=""alert alert-success alert-dismissible"">
                <button type=""button"" class=""close"" data-dismiss=""alert"" aria-hidden=""true"">&times;</button>
                <h5><i class=""icon fas fa-check""></i> Alert!</h5>
                <p>");
#nullable restore
#line 30 "D:\APPS\TT\ARMS\ARMS\Areas\Water\Views\WaterMeterReadings\Index.cshtml"
              Write(TempData["msg"]);

#line default
#line hidden
#nullable disable
                WriteLiteral("</p>\r\n            </div>\r\n");
#nullable restore
#line 32 "D:\APPS\TT\ARMS\ARMS\Areas\Water\Views\WaterMeterReadings\Index.cshtml"
        }

#line default
#line hidden
#nullable disable
                WriteLiteral(@"        <div class=""card-header"">
            <h3 class=""card-title"">Search Details</h3>
        </div>
        <div class=""card-body"">
            <div class=""row d-flex justify-content-center"">
                <div class=""input-group d-flex justify-content-center col-4"">
                    <label class=""col-sm-5 col-form-label"">Zone<span style=""font-weight: bold; color: red;"">*</span></label>
                    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("select", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "dcfb0a16cad98493ce0afeca2feb8bc7e10b3a068843", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.SelectTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
#nullable restore
#line 41 "D:\APPS\TT\ARMS\ARMS\Areas\Water\Views\WaterMeterReadings\Index.cshtml"
__Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper.Items = (new SelectList (@ViewBag.Zone,"Value","Text")) ;

#line default
#line hidden
#nullable disable
                __tagHelperExecutionContext.AddTagHelperAttribute("asp-items", __Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper.Items, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n                </div>\r\n");
                WriteLiteral("                <div class=\"input-group d-flex justify-content-center col-5\">\r\n                    <label class=\"col-6 col-form-label\">Meter Reading Date</label>\r\n");
                WriteLiteral("                    <input id=\"ReadingDate\" type=\"date\" class=\"form-control\" placeholder=\"Current Reading Date\" />\r\n                </div> \r\n");
                WriteLiteral("              \r\n                <div class=\"input-group-append col-2\">\r\n\r\n                    <input id=\"btnSearch\" type=\"button\" value=\"search\" class=\"btn btn-primary\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper.Method = (string)__tagHelperAttribute_4.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_4);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n\r\n<!--Water Meter Reading Details-->\r\n<div class=\"card card-info\" id=\"dvWaterMeterReading\" style=\"display: none;\">\r\n    <div class=\"card-header\">\r\n        <h3 class=\"card-title\">Water Meter Reading</h3>\r\n    </div>\r\n    <div class=\"card-body\">\r\n");
            WriteLiteral(@"        <table  class=""table table-bordered table-striped"">
            <thead style=""background-color:mediumaquamarine"">

                <tr>
                    <th>#</th>
                    <th>Water Connection Status</th>
                    <th>Water Meter Type</th>
                    <th>Standard Consumption</th>
                    <th>Water Line Type</th>
                    <th>Billing Address</th>
                    <th>Reading</th>
                    <th>Mobile No</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id=""tbl_body"">
            </tbody>
        </table>
    </div>
</div>

<!--Water Meter Reading Entry-->
<div id=""dvBatchMeterReading"" style=""display:none;"">
    <div class=""card card-info"">
        <div class=""card-header"">
            <h3 class=""card-title"">Batch Reading Entry</h3>
        </div>
");
            WriteLiteral("        <div class=\"form-group row\">\r\n");
            WriteLiteral("\r\n            <label class=\"col-2 col-form-label\">&nbsp;&nbsp;Reader<span style=\"font-weight: bold; color: red;\">*</span></label>\r\n            <div class=\"col-sm-3\">\r\n                ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("select", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "dcfb0a16cad98493ce0afeca2feb8bc7e10b3a0614079", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.SelectTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_5);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_6);
#nullable restore
#line 117 "D:\APPS\TT\ARMS\ARMS\Areas\Water\Views\WaterMeterReadings\Index.cshtml"
__Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper.Items = (new SelectList (@ViewBag.ZoneReader,"Value","Text")) ;

#line default
#line hidden
#nullable disable
            __tagHelperExecutionContext.AddTagHelperAttribute("asp-items", __Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper.Items, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
            </div>
        </div>
        


        <div class=""form-group row card-body"">
            <table id=""tblReading"" class=""table table-bordered table-striped"">
                <thead>

                    <tr>
                        <th>#</th>
");
            WriteLiteral(@"                        <th>Consumer No</th>
                        <th>Meter No</th>
                        <th>Prev. Reading Date</th>
                        <th>Prev. Reading</th>
                        <th>Current Meter Reading</th>
                        <th>Consumption</th>
");
            WriteLiteral(@"                    </tr>
                </thead>
                <tbody id=""mybody"">
                </tbody>
            </table>
            <div class=""input-group-append col-2 pt-2"">
                <input type=""button"" value=""Submit"" class=""btn btn-primary"" id=""btnSave"" />
            </div>
        </div>
    </div>
   
    </div>

");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "dcfb0a16cad98493ce0afeca2feb8bc7e10b3a0616735", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_7);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"

<script>

    $(function () {
        $(""#example1"").DataTable({
            ""responsive"": true,
            ""autoWidth"": false,
        });
        $('#example2').DataTable({
            ""paging"": true,
            ""lengthChange"": false,
            ""searching"": false,
            ""ordering"": true,
            ""info"": true,
            ""autoWidth"": false,
            ""responsive"": true,
        });
    });

    function FillOutReadingDate() {
        var MeterReadingDate = null;
        var rowCount = $('#tblReading').find('tr').length;
        //$(""#tblReading tbody tr"").each(function () {
        //    MeterReadingDate = ($(this).find('.cmrd').val());
        //    //alert(MeterReadingDate);
        //});
        var i = 0;
        $('#tblReading > tbody  > tr ').each(function () {
            MeterReadingDate = ($(this).find('.cmrd').val());
            //alert(MeterReadingDate);

            $(""#CMRDate_"" + i).text = MeterReadingDate;
            i = i + 1;
           ");
            WriteLiteral(@" alert($(""#CMRDate_"" + i).val());
        }
        );
        //    //cons

        //alert(rowCount);
            //var pvr = Number($(this).find('.pvr').val());
            //var con = cr - pvr;
        //for (var i = 1; i < rowCount; i++) {
        //    //var MeterReadingDate = ($(this).find('.cmrd').val());
        //    alert(MeterReadingDate);
        //    $('#CMRDate_' + i).val(MeterReadingDate);
        //   // $(this).find('#cm').val(con);
        //    }
        //});
    }

    function CalculateConsumption() {

        $(""#tblReading tbody tr"").each(function () {
            //cons
            var cr = Number($(this).find('.cmr').val());
            var pvr = Number($(this).find('.pvr').val());
            var con = cr - pvr;
            $(this).find('.cm').val(con);

        });
    }
");
            WriteLiteral(@"

    //Saving WMR data
    $(""#btnSave"").click(function () {
        if ($(""#ReadingDate"").val() == """") {
            swal(""Please select reading date.!"");
            return false;
        }
        if ($(""#ZoneId"").val() == 0) {
            swal(""Please select reader.!"");
            return false;
        }

        var index = 0; var flag = 0; var duplicate = 0; 
        $('#tblReading > tbody  > tr ').each(function () {
           
            var cmr = $(this).find('.cmr').val();

            const d = new Date($(this).find('.prd').val());
            const readingDate = d.getFullYear() + '-' + (""0"" + (d.getMonth() + 1)).slice(-2);// + '-' + (""0"" + d.getDate()).slice(-2);
            var date1 = readingDate;

            const d2 = new Date($('#ReadingDate').val());
            const readingDate2 = d2.getFullYear() + '-' + (""0"" + (d2.getMonth() + 1)).slice(-2);// + '-' + (""0"" + d.getDate()).slice(-2);
            var date2 = readingDate2;

           
");
            WriteLiteral(@"          
            if (cmr == """") {
                flag = 1;
            }

            if (date1 == date2) {
                flag = 2;
            }

            index = index + 1
        });
        if (flag == 2) {
            swal(""Some of the readings you enter are duplicate!"");
            return false;
        }
        //if (flag == 1) {
        //    swal(""Some current reading fields are empty!"");
        //    return false;
        //}
       

        $('#img').show();

        var myarray = []; var i = 0;
        $('#tblReading > tbody  > tr ').each(function () {
            var WaterMeterReadingModel = {};
            if ($(""#CMReading_"" + i).val() != """") {

                WaterMeterReadingModel.WaterConnectionId = parseInt($('#hdnWaterConnectionId_' + i).val());
                //WaterMeterReadingModel.WaterConnectionStatusId = parseInt($('#hdnWaterConnectionStatusId_' + i).val());
                //WaterMeterReadingModel.WaterConnectionTypeId = parseInt($('#h");
            WriteLiteral(@"dnWaterConnectionTypeId_' + i).val());
                //WaterMeterReadingModel.WaterLineTypeId = parseInt($('#hdnWaterLineTypeId_' + i).val());
                //WaterMeterReadingModel.WaterMeterTypeId = parseInt($('#hdnWaterMeterTypeId_' + i).val());
                //WaterMeterReadingModel.BillingAddress = $('#hdnBillingAddress_' + i).val();
                //WaterMeterReadingModel.NoOfUnit = parseInt($('#hdnNoOfUnits_' + i).val());
                //WaterMeterReadingModel.PrimaryMobileNo = $('#hdnPrimaryMobileNo_' + i).val();
                WaterMeterReadingModel.ReadBy = parseInt($(""#ZoneId"").val());
                //WaterMeterReadingModel.StandardConsumption = parseInt($('#hdnStandardConsumption_' + i).val());
                WaterMeterReadingModel.PreviousReadingDate = ($('#previousReadingDate_' + i).val());
                WaterMeterReadingModel.PreviousReading = parseInt($('#previousReading_' + i).val());
                WaterMeterReadingModel.Reading = parseInt($(""#CMReading_"" + i).val()");
            WriteLiteral(@");
                WaterMeterReadingModel.Consumption = parseInt($(""#Consumption_"" + i).val());
                WaterMeterReadingModel.ReadingDate = $(""#ReadingDate"").val();
                WaterMeterReadingModel.WaterMeterReadingId = parseInt($(""#hdnWaterMeterReadingId_"" + i).val());

                myarray.push(WaterMeterReadingModel);
            }
           
            i = i + 1;
        });
        var json_data = JSON.stringify(myarray);
        console.log(json_data);


        $.ajax({
            type: ""POST"",
            url: '");
#nullable restore
#line 388 "D:\APPS\TT\ARMS\ARMS\Areas\Water\Views\WaterMeterReadings\Index.cshtml"
             Write(Url.Action("CreateWMR", "WaterMeterReadings"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: json_data,
            contentType: ""application/json; charset=utf-8"",
            dataType: ""json"",
            success: function (response) {
                //alert(response);
                if (response > 0) {
                    swal(""Reading saved successfully."");
                    $('#img').hide();
                    $(""#dvBatchMeterReading"").hide(1000);
                    setTimeout(function () {
                        $('.alert').fadeOut(1000);
                        //location.reload();
                    }, 5000);
                }
                else {
                    alert(""Error saving payment details."");
                    $('#img').hide();
                }
            },
            failure: function () {
                $('#img').hide();
                swal(""Creation Failed"");
            },
            error: function () {
                $('#img').hide();
                swal(""Error while inserting"");
            }
        });");
            WriteLiteral("\r\n    });\r\n\r\n    //Btach Reading entry\r\n    $(\"#btnSearch\").click(function () {\r\n        //function BatchReadingEntry(zoneid,yr,mth) {\r\n        //Water Batch Meter Entry\r\n        $.ajax({\r\n            type: \"GET\",\r\n            url: \'");
#nullable restore
#line 425 "D:\APPS\TT\ARMS\ARMS\Areas\Water\Views\WaterMeterReadings\Index.cshtml"
             Write(Url.Action("getWaterMeterReadingDetails", "WaterMeterReadings"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: {
                zone: $(""#zoneid"").val(),
                year: $(""#yearid"").val(),
                month: $(""#Monthid"").val(),
                ReadingDate: $(""#ReadingDate"").val(),
            },
            success: function (data) {
                console.log(data);
                $('#mybody').empty();

                if (data.length > 0) {
                    $('#dvBatchMeterReading').show(1000);
                    $.each(data, function (key, value) {
                      
                        var formattedDate = new Date(value.previousReadingDate);
                        var d = formattedDate.getDate();
                        var m = formattedDate.getMonth();
                        m += 1;  // JavaScript months are 0-11
                        var y = formattedDate.getFullYear();
                        var readingDate = d + ""/"" + m + ""/"" + y;


                        $('#mybody').append(
                            '<tr>'

                    ");
            WriteLiteral(@"        + '<td hidden> <input id=""hdnWaterConnectionId_' + key + '"" class=""form-control WaterConnectionId"" value=' + value.waterConnectionId + ' /> </td>'
                            //+ '<td hidden> <input id=""hdnWaterConnectionStatusId_' + key + '"" class=""form-control"" value=' + value.waterConnectionStatusId + ' /> </td>'
                            //+ '<td hidden> <input id=""hdnWaterConnectionTypeId_' + key + '"" class=""form-control"" value=' + value.waterConnectionTypeId + ' /> </td>'
                            //+ '<td hidden> <input id=""hdnWaterLineTypeId_' + key + '"" class=""form-control"" value=' + value.waterLineTypeId + ' /> </td>'
                            //+ '<td hidden> <input id=""hdnWaterMeterTypeId_' + key + '"" class=""form-control"" value=' + value.waterMeterTypeId + ' /> </td>'
                            //+ '<td hidden> <input id=""hdnBillingAddress_' + key + '""  class=""form-control"" value=' + value.billingAddress + ' /> </td>'
                            //+ '<td hidden> <input id=""hdn");
            WriteLiteral(@"NoOfUnits_' + key + '""  class=""form-control"" value=' + value.noOfUnit + ' /> </td>'
                            //+ '<td hidden> <input id=""hdnPrimaryMobileNo_' + key + '""  class=""form-control"" value=' + value.primaryMobileNo + ' /> </td>'
                            + '<td hidden> <input id=""hdnWaterMeterReadingId_' + key + '"" class=""form-control mrid"" value=' + value.waterMeterReadingId + ' readonly /> </td>'
                            //+ '<td hidden> <input id=""hdnStandardConsumption_' + key + '""  class=""form-control"" value=' + value.standardConsumption + ' readonly /> </td>'

                            + '<td>' + (key + 1) + '</td>'
                            + '<td>' + value.consumerNo + '</td>'
                            + '<td>' + value.waterMeterNo + '</td>'
                            + '<td>' + readingDate + '<input type =""hidden"" id = ""previousReadingDate_' + key + '""  value = ""' + value.readingDate + '"" class= ""form-control prd"" />   </td > '
                          
             ");
            WriteLiteral(@"               + '<td><input id=""previousReading_' + key + '"" value=' + value.previousReading + ' type=""number"" readonly  class=""form-control pvr""/></td > '
                            + '<td><input id=""CMReading_' + key + '"" type=""number"" onkeyup=""return CalculateConsumption();""  value=""""  class=""form-control cmr"" /></td>'
                            + '<td><input id=""Consumption_' + key + '"" type=""number""  class=""form-control cm"" readonly value="""" /></td > '

                        );
                    });
                }
                else {
                    $('#dvBatchMeterReading').hide(1000);
                    swal({
                        title: 'You must need a previous month reading before you enter current reading.!',
                        type: 'error',
                        confirmButtonText: 'OK'
                    });
                }
            },
            error: function () {
                alert('error');
            }

        });

    });

   ");
            WriteLiteral(" //View Water Meter Reading Details\r\n    function ViewBatchReadingEntry() {\r\n\r\n    }\r\n\r\n    //Edit Water Metr Reading Details\r\n    function EditBatchReadingEntry() {\r\n\r\n    }\r\n</script>\r\n\r\n");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<List<CORE_BOL.WaterMeterReadingModel>> Html { get; private set; }
    }
}
#pragma warning restore 1591
