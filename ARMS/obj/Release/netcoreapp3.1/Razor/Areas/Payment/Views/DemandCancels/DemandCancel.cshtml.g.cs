#pragma checksum "D:\TT\Finalarms\ARMS\Areas\Payment\Views\DemandCancels\DemandCancel.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "d8a91058c95b1bbf47fb43c0759221a201152280"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Areas_Payment_Views_DemandCancels_DemandCancel), @"mvc.1.0.view", @"/Areas/Payment/Views/DemandCancels/DemandCancel.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\TT\Finalarms\ARMS\Areas\_ViewImports.cshtml"
using ARMS;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\TT\Finalarms\ARMS\Areas\_ViewImports.cshtml"
using ARMS.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"d8a91058c95b1bbf47fb43c0759221a201152280", @"/Areas/Payment/Views/DemandCancels/DemandCancel.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"9b4a8197006c533ca3077e7e53fa27a725fee456", @"/Areas/_ViewImports.cshtml")]
    public class Areas_Payment_Views_DemandCancels_DemandCancel : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<CORE_BOL.DemandCancelVM>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("asp-action", "DemandCancel", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.AnchorTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 2 "D:\TT\Finalarms\ARMS\Areas\Payment\Views\DemandCancels\DemandCancel.cshtml"
  
    ViewData["Title"] = "DemandCancel";
    Layout = "~/Views/Shared/_Layout.cshtml";

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
<div class=""content-header"">
    <div class=""container-fluid"">
        <div class=""row mb-2"">
            <div class=""col-sm-6"">
                <h1 class=""m-0 text-dark""></h1>
            </div>
            <div class=""col-sm-6"">
                <ol class=""breadcrumb float-sm-right"">
                    <li class=""breadcrumb-item"">");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("a", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "d8a91058c95b1bbf47fb43c0759221a2011522804027", async() => {
                WriteLiteral("Demand Cancel");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.AnchorTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper.Action = (string)__tagHelperAttribute_0.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_0);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("</li>\r\n                    <li class=\"breadcrumb-item active\">Demand Cancel</li>\r\n                </ol>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n");
            WriteLiteral(@"<div class=""card card-info"">
    <div class=""card-header"">
        <h3 class=""card-title"">Search Demand</h3>
        <input type =""hidden"" id=""hdnIsPaymentMade"" />
    </div>
    <div class=""card-body"">
        <div class=""form-group row"">
            <label class=""col-sm-2 col-form-label"">Demand No</label>
            <div class=""col-sm-3"">
                <input class=""form-control"" placeholder=""Search by Demand No"" id=""DemandNoinput"" />
            </div> 
            
            <div class=""col-sm-3"">
                <button type=""button"" class=""btn btn-primary"" onclick=""return SearchDemand();"">Search</button>
            </div>
        </div>
    </div>
</div>

");
            WriteLiteral(@"
<div class=""card card-info"" id=""DemandDetails"" style=""display: none;"">
    <div class=""card-header"">
        <h3 class=""card-title"">Demand Details</h3>
        <input type=""hidden"" id=""hdnTotalDemandAmount"" />
        <input type=""hidden"" id=""hdnDemandNoId"" />
        <input type=""hidden"" id=""hdnDemandId"" />
        <input type=""hidden"" id=""hdnDemandAmount"" />
    </div>
    <div class=""card-body"">
        <div class=""form-group row"">
            <table");
            BeginWriteAttribute("id", " id=\"", 2184, "\"", 2189, 0);
            EndWriteAttribute();
            WriteLiteral(@" class=""table table-bordered table-striped"">
                <thead style=""background-color:mediumaquamarine"">
                    <tr>
                        <th>CID</th>
                        <th>TTIN</th>
                        <th>Name</th>
                        <th>Tax Name</th>
                        <th>Demand Amount</th>
                        <th>Exemption Amount</th>
                        <th>Total Amount</th>
                    </tr>
                </thead>
                <tbody id=""tblDemandDetails"">
                </tbody>
            </table>
        </div>
        <div class=""form-group row"">
            <label class=""col-sm-1 col-form-label"">Remarks </label>
            <div class=""col-sm-4"">
                <textarea class=""form-control"" id=""idsremarks"" placeholder=""Enter Remarks"" rows=""3""></textarea>
            </div>
        </div>
        <div class=""form-group row"">
            <div class=""col-sm-1""></div>
            <div class=""col-sm-4"">
        ");
            WriteLiteral("        <button type=\"submit\" class=\"btn btn-primary\" onclick=\"return saveme();\"");
            BeginWriteAttribute("style", " style=\"", 3294, "\"", 3302, 0);
            EndWriteAttribute();
            WriteLiteral(@">Save</button> &nbsp; &nbsp;
                <button type=""reset"" onclick="" return btnCancel();"" class=""btn btn-warning"">Cancel</button>
            </div>
        </div>
    </div>
    </div>





<script>
    /********************************************************************DEMAND SEACRH*****************************************************************************************/

    function SearchDemand() {
        if ($('#DemandNoinput').val() == """") {
                swal('Empty Fields!', '', 'error');
            $('#DemandNoinput').focus();
                return false;
        }   
        var DemandNo = $('#DemandNoinput').val();
             $.ajax({
               type: ""GET"",
               url: '");
#nullable restore
#line 102 "D:\TT\Finalarms\ARMS\Areas\Payment\Views\DemandCancels\DemandCancel.cshtml"
                Write(Url.Action("GetDemandWithSearch", "DemandCancels"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
               data: {
                   DemandNo: DemandNo
                        },
                 success: function (data) {
                         //else {
                         $('#tblDemandDetails').empty();
                         if (data.length > 0) {
                             var t = 0;         

                             if (data[0].isPaymentMade == true) {

                                 $('#DemandDetails').hide(1000);
                                 swal('Information', 'Already paid.', 'info');
                                 return false;
                             }

                             else {
                                 $.each(data, function (key, value) {

                                     $('#DemandDetails').show(1000);
                                     $('#tblDemandDetails').show(1000);
                                     $('#tblDemandDetails').append(
                                         '<tr>'
                      ");
            WriteLiteral(@"                   + '<td>' + value.cid + '</td>'
                                         + '<td>' + value.ttin + '</td>'
                                         + '<td>' + value.name + '</td>'
                                         + '<td>' + value.taxName + '</td>'
                                         + '<td>' + value.demandAmount + '</td>'
                                         + '<td>' + value.exemptionAmount + '</td>'
                                         + '<td>' + value.totalAmount + '</td>'
                                         + '</tr>');
                                     t += value.totalAmount;
                                     $('#hdnTotalDemandAmount').val(t);

                                 });

                                 $('#hdnDemandId').val(data[0].demandId);
                             }
                                                       
                         }
                         else {
                             $('#tblDemandDe");
            WriteLiteral(@"tails').append(
                                 '<tr><td colspan=""4"" style=""color: red;"">No record found!</td></tr>');
                     }

//*******************************************************DEMAND DETAILS**********************************************************************************************
                       
             $.ajax({
               type: ""GET"",
               url: '");
#nullable restore
#line 152 "D:\TT\Finalarms\ARMS\Areas\Payment\Views\DemandCancels\DemandCancel.cshtml"
                Write(Url.Action("GetDemandDetails", "DemandCancels"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
               data: {
                   id: parseInt($('#hdnDemandId').val())
                        },
                         dataType: 'JSON',
                        contentType: 'application/json, charset=utf-8',

                 success: function (data) {
                               if (data.length > 0) {
                                  var demandnoid = data[0].demandNoId;

                                  $('#hdnDemandNoId').val(demandnoid);

                         }
                                },
                                error: function () {
                                    $('#img').hide();
                                    alert('Error occured');
                                }
                            });

                    },

                        error: function () {
                            alert('error');
                        }
             });
    }


//*************************************************************SAV");
            WriteLiteral(@"E DEMAND CANCEL*******************************************************************************

    function saveme() {
        swal(confirm(""Are you sure you want to Cancel?"", ""Yes"", ""No"", true))

        var myarray = [];
        var DemandCancelVM = {};

        DemandCancelVM.DemandNoId = parseInt($(""#hdnDemandNoId"").val());
        DemandCancelVM.TotalCancelAmount = parseFloat($(""#hdnTotalDemandAmount"").val());
        DemandCancelVM.Remarks = $(""#idsremarks"").val();
        DemandCancelVM.DemandId = parseInt($(""#hdnDemandId"").val());
        //DemandCancelVM.DemandAmount = parseFloat($(""#hdnDemandAmount"").val());

        myarray.push(DemandCancelVM);

            var json_data = JSON.stringify(myarray);
            console.log(json_data);
        $('#img').show();

            $.ajax({
                type: ""POST"",
                url: '");
#nullable restore
#line 204 "D:\TT\Finalarms\ARMS\Areas\Payment\Views\DemandCancels\DemandCancel.cshtml"
                 Write(Url.Action("SaveDemandCancel", "DemandCancels"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: json_data,
                contentType: ""application/json; charset=utf-8"",
                dataType: ""json"",
                success: function (response) {
                    if (response > 0) {
                        $('#img').hide();
                        swal(""Successfully Cancelled!"");
                        setTimeout(function () {
                            location.reload();
                        }, 3000);
                    } else {

                        swal(""Failed to Cancel!"");
                        $('#img').hide();
                    }
                },
                error: function () {
                    swal(""Error occurred!"");
                    $('#img').hide();
                }

        });
    }

    function btnCancel () {
        $('#DemandDetails').hide(1000);
        $('#tblDemandDetails').hide(1000);
    }
</script>
");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<CORE_BOL.DemandCancelVM> Html { get; private set; }
    }
}
#pragma warning restore 1591
